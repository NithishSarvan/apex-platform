server:
  port: 8081

spring:
  application:
    name: apex-api

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/apex}
    username: ${SPRING_DATASOURCE_USERNAME:apex}
    password: ${SPRING_DATASOURCE_PASSWORD:apex}
    hikari:
      # Force a valid server timezone setting during connection startup.
      # This also protects against a bad URL/env override like: ?options=-c%20TimeZone%3DAsia%2FCalcutta
      data-source-properties:
        options: "-c TimeZone=UTC"

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        jdbc:
          time_zone: UTC

  flyway:
    enabled: true
    locations: classpath:db/migration

  data:
    redis:
      host: ${SPRING_REDIS_HOST:localhost}
      port: ${SPRING_REDIS_PORT:6379}

app:
  jwt:
    secret: ${APP_JWT_SECRET:3cfa76ef14937c1c0ea519f8fc057a80fcd04a7420f8e8bcd0a7567c272e007b}
    issuer: ${APP_JWT_ISSUER:apex-platform}
    expiresMinutes: ${APP_JWT_EXPIRES_MINUTES:720}
  bootstrap:
    defaultTenantName: ${APP_DEFAULT_TENANT_NAME:Default Tenant}
    adminEmail: ${APP_ADMIN_EMAIL:admin@apex.local}
    adminPassword: ${APP_ADMIN_PASSWORD:admin123!}
  crypto:
    encryptionKey: ${APP_ENCRYPTION_KEY:3cfa76ef14937c1c0ea519f8fc057a80fcd04a7420f8e8bcd0a7567c272e007b}

